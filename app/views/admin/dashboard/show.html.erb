<%= javascript_include_tag "https://www.gstatic.com/charts/loader.js" %>
<%= javascript_include_tag "path/to/highcharts.js", "chartkick" %>
<header class="page-header" style="background-color:white; font-weight: bold; text-align: center;">
<%= yield :charts_js %>
<div style=" font-weight: bold; text-align: center;">
    <h1 >Admin dashboard</h1>
  </header>
  <body style="text-align:center">

    

  <table class="table table-dark">
  <thead>
    <tr >
    
     
      <th scope="col" class="bg-info"> Closed Tickets</th>
      <th scope="col" class="bg-info"> Assigned Tickets</th>
      
      <th scope="col" class="bg-info"> Tickets due today</th>
    
     
     

    </tr>
  </thead>
  <tbody>


    <tr class="bg-primary">
  
      
      <td class="text-center status"><%= @ticket_closed_count  %></td>
      <td class="text-center status"><%= @assigned_tickets %></td>
      
      <td class="text-center status"><%= @tickets_due_today %></td>

      
    
    </tr>
  </tbody>
</table>
<br>
<br>
<br>
<br>

<h2>Ticket Statistics</h2>




<%= pie_chart StatTechnician.group(:name).count  , title: "Number of tickets per technecian", library: {hAxis: {title: "Technecian name"}, vAxis: {title: "Number of tickets assigned"}} , label: "id"%>
<%= pie_chart StatTicket.group(:code).where(code: ["Medium","Low","High"]).count  , title: "Number of tickets per priority", library: {hAxis: {title: "Priority"}, vAxis: {title: "Number of tickets"}} , label: "id"%>

<%= pie_chart StatTicket.group(:code).where(code: ["Opened","Waiting","Assigned"]).count  , title: "Number of tickets per status", library: {hAxis: {title: "Status"}, vAxis: {title: "Number of tickets"}} , label: "id"%>

<%= pie_chart StatTicket.group(:code).where(code: ["Call","Website"]).count  , title: "Number of tickets per category", library: {hAxis: {title: "Category name"}, vAxis: {title: "Number of tickets"}} , label: "id"
column_chart StatTechnician.group(:name).count  , title: "Number of tickets per type", library: {hAxis: {title: "Type"}, vAxis: {title: "Number of tickets"}} , label: "id"
%>


  <%=%>



<br>
<br>

<br>


  </div>

</body>